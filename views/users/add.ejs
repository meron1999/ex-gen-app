<!DOCTYPE html>
<html lang="ja">
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <link type="text/css" rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" crossorigin="anonymous">
    <title><%=title %></title>
</head>
<body class="container">
<header>
    <h1 class="display-4"><%=title %></h1>
</header>
<div role="main">
    <post>
        <form method='post' action='/users/add'>
            <!-- Optional: Display all errors at the top -->
            <% if (err) { %>
                <ol class="text-danger">
                    <% for(let [key, value] of err) { %>
                        <% value.forEach(function(msg) { %>
                            <li><%= msg %></li>
                        <% }); %>
                    <% } %>
                </ol>
            <% } %>

            <div class="form-group">
                <label for="name">名前</label>
                <input type="text" class="form-control" id="name" name="name" value="<%= form.name || '' %>" placeholder="名前を入力してください">
                <ul class="text-danger">
                    <% if (err && err.get('name')) { %>
                        <% err.get('name').forEach(function(msg) { %>
                            <li><%= msg %></li>
                        <% }); %>
                    <% } %>
                </ul>
            </div>
            <div class="form-group">
                <label for="pass">パスワード</label>
                <input type="password" class="form-control" id="pass" name="pass" value="<%= form.pass || '' %>" placeholder="パスワードを入力してください">
                <ul class="text-danger">
                    <% if (err && err.get('pass')) { %>
                        <% err.get('pass').forEach(function(msg) { %>
                            <li><%= msg %></li>
                        <% }); %>
                    <% } %>
                </ul>
            </div>
            <div class="form-group">
                <label for="mail">メールアドレス</label>
                <input type="mail" class="form-control" id="mail" name="mail" value="<%= form.mail || '' %>" placeholder="メールアドレスを入力してください">
                <ul class="text-danger">
                    <% if (err && err.get('mail')) { %>
                        <% err.get('mail').forEach(function(msg) { %>
                            <li><%= msg %></li>
                        <% }); %>
                    <% } %>
                </ul>
            </div>
            <div class="form-group">
                <label for="age">年齢</label>
                <input type="number" class="form-control" id="age" name="age" value="<%= form.age || '' %>" placeholder="年齢を入力してください">
                <ul class="text-danger">
                    <% if (err && err.get('age')) { %>
                        <% err.get('age').forEach(function(msg) { %>
                            <li><%= msg %></li>
                        <% }); %>
                    <% } %>
                </ul>
            </div>
            <button type="submit" class="btn btn-primary">送信</button>
        </form>
    </post>
</div>
</body>
</html>